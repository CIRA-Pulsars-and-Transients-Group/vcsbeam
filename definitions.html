<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VCSBeam: Definitions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VCSBeam
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Definitions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md3">Coordinate systems</a><ul><li class="level2"><a href="#autotoc_md4">Instrumental coordinates</a></li>
<li class="level2"><a href="#autotoc_md5">Local sky coordinates</a></li>
<li class="level2"><a href="#autotoc_md6">Celestial sky coordinates</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md7">Coordinate transformations</a><ul><li class="level2"><a href="#parallacticangle">Parallactic angle correction</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md8">Comparison of notation in other documents</a><ul><li class="level2"><a href="#autotoc_md9">Coordinate systems</a></li>
<li class="level2"><a href="#autotoc_md10">Jones matrices</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_Definitions"></a></p>
<h1><a class="anchor" id="autotoc_md3"></a>
Coordinate systems</h1>
<p>There are three coordinate systems in use throughout VCSBeam:</p><ul>
<li>Instrumental ( <img class="formulaInl" alt="$p$" src="form_0.png" width="8" height="9"/>, <img class="formulaInl" alt="$q$" src="form_1.png" width="6" height="9"/>)</li>
<li>Local sky coordinates ( <img class="formulaInl" alt="$\theta$" src="form_2.png" width="6" height="10"/>, <img class="formulaInl" alt="$\phi$" src="form_3.png" width="8" height="13"/>)</li>
<li>Celestial sky coordinates ( <img class="formulaInl" alt="$x$" src="form_4.png" width="8" height="6"/>, <img class="formulaInl" alt="$y$" src="form_5.png" width="8" height="9"/>) They are illustrated in the following figure:</li>
</ul>
<div class="image">
<img src="coords.png" alt="" width="800"/>
</div>
 <h2><a class="anchor" id="autotoc_md4"></a>
Instrumental coordinates</h2>
<p>This is a Cartesian coordinate system aligned with local (ground) compass directions. Positive <img class="formulaInl" alt="$p$" src="form_0.png" width="8" height="9"/> points towards local North, and positive <img class="formulaInl" alt="$q$" src="form_1.png" width="6" height="9"/> towards local East. The <img class="formulaInl" alt="$P$" src="form_6.png" width="10" height="10"/> polarisation refers to the physical set of dipoles parallel to the N-S line; the <img class="formulaInl" alt="$Q$" src="form_7.png" width="10" height="13"/> polarisation, to the E-W line.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Local sky coordinates</h2>
<p>This is a spherical coordinate system defined with respect to a local observer. <img class="formulaInl" alt="$\theta$" src="form_2.png" width="6" height="10"/> is the <em>zenith angle</em>, i.e. a \textit{colatitude}, with zenith itself therefore defined as <img class="formulaInl" alt="$\theta = 0$" src="form_8.png" width="29" height="10"/> and the horizon as <img class="formulaInl" alt="$\theta = \pi/2$" src="form_9.png" width="43" height="14"/>. <img class="formulaInl" alt="$\phi$" src="form_3.png" width="8" height="13"/> is the <em>azimuth</em>, and we define <img class="formulaInl" alt="$\phi = 0$" src="form_10.png" width="30" height="13"/> in the North direction, with positive azimuth moving clockwise as viewed from above (i.e. N&rarr;E&rarr;S&rarr;W&rarr;N). Moreover, the <em>elevation</em> is denoted by the symbol <img class="formulaInl" alt="$\tilde{\theta}$" src="form_11.png" width="6" height="13"/>, and is related to the zenith angle by </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \tilde{\theta} = \frac{\pi}{2} - \theta. \]" src="form_12.png" width="59" height="24"/>
</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Celestial sky coordinates</h2>
<p>This is a spherical coordinate system defined with respect to the celestial sphere. <img class="formulaInl" alt="$x$" src="form_4.png" width="8" height="6"/> is the <em>declination</em> (Dec) and <img class="formulaInl" alt="$y$" src="form_5.png" width="8" height="9"/> is the <em>right ascension</em> (RA).</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Coordinate transformations</h1>
<p>All coordinate transformations can be effected by applying the appropriate Jacobian matrix for the desired transformation. In this documentation, a boldface <img class="formulaInl" alt="${\bf P}$" src="form_13.png" width="10" height="10"/> will always be used to denote transformation matrices. For general coordinates <img class="formulaInl" alt="$(a,b)$" src="form_14.png" width="26" height="14"/> and <img class="formulaInl" alt="$(c,d)$" src="form_15.png" width="26" height="14"/>, </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ {\bf P}_{(a,b)\rightarrow(c,d)} \equiv \begin{bmatrix} P_{ca} &amp; P_{cb} \\ P_{da} &amp; P_{db} \end{bmatrix} \equiv \begin{bmatrix} \frac{\partial c}{\partial a} &amp; \frac{\partial c}{\partial b} \\[5 pt] \frac{\partial d}{\partial a} &amp; \frac{\partial d}{\partial b} \end{bmatrix} \]" src="form_16.png" width="210" height="39"/>
</p>
<p> Among these, the only transformation that is explicitly used in VCSBeam is the transformation between local sky coordinates and celestial sky coordinates, which is a single rotation within the sky plane by the parallactic angle.</p>
<h2><a class="anchor" id="parallacticangle"></a>
Parallactic angle correction</h2>
<p>The parallactic angle correction is a transformation between local sky coordinates and celestial sky coordinates. The parallactic angle itself, <img class="formulaInl" alt="$\chi$" src="form_17.png" width="9" height="9"/>, is defined as the position angle of local zenith with respect to the North Celestial Pole as subtended at a given source, illustrated in the following figure.</p>
<div class="image">
<img src="skyangles.png" alt="" width="300"/>
</div>
 <p>The transformation <img class="formulaInl" alt="$(x,y)\rightarrow(\theta,\phi)$" src="form_18.png" width="76" height="14"/> is therefore a counterclockwise rotation by <img class="formulaInl" alt="$\pi - \chi$" src="form_19.png" width="31" height="9"/>. (A counterclockwise rotation of a given vector is equivalent to a clockwise rotation of the coordinate axes.) This is the rotation </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ {\bf P}_\text{pa} = \begin{bmatrix} P_{\theta x} &amp; P_{\theta y} \\ P_{\phi x} &amp; P_{\phi y} \end{bmatrix} = \begin{bmatrix} \cos\left(\pi - \chi\right) &amp; -\sin\left(\pi - \chi\right) \\ \sin\left(\pi - \chi\right) &amp; \cos\left(\pi - \chi\right) \end{bmatrix} = \begin{bmatrix} -\cos\chi &amp; -\sin\chi \\ \sin\chi &amp; -\cos\chi \end{bmatrix}. \]" src="form_20.png" width="399" height="31"/>
</p>
<p>In VCSBeam, the parallactic angle is calculated (via the function <code>palPa</code>) in the <a href="https://github.com/Starlink/pal">Starlink/pal library</a> by the spherical triangle identity </p><p class="formulaDsp">
<img class="formulaDsp" alt="\[ \tan \chi = \frac{\cos \lambda \sin H}{\sin\lambda \cos x - \cos \lambda \sin x \cos H}, \]" src="form_21.png" width="204" height="28"/>
</p>
<p> where <img class="formulaInl" alt="$\lambda$" src="form_22.png" width="8" height="10"/> is the latitude of the observer, <img class="formulaInl" alt="$H$" src="form_23.png" width="11" height="10"/> is the hour angle of the source, and <img class="formulaInl" alt="$x$" src="form_4.png" width="8" height="6"/> is the declination. The latitude of the MWA is <img class="formulaInl" alt="$\lambda_\text{MWA} = -0.4660608448386394$" src="form_24.png" width="170" height="13"/> rad, defined in the <a href="https://github.com/MWATelescope/mwalib">mwalib</a> library.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Comparison of notation in other documents</h1>
<h2><a class="anchor" id="autotoc_md9"></a>
Coordinate systems</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Document   </th><th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><em>This document</em>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="$p$" src="form_0.png" width="8" height="9"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="$q$" src="form_1.png" width="6" height="9"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="$\theta$" src="form_2.png" width="6" height="10"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="$\phi$" src="form_3.png" width="8" height="13"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="$x$" src="form_4.png" width="8" height="6"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="$y$" src="form_5.png" width="8" height="9"/>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">MWA metafits files   </td><td class="markdownTableBodyCenter">Y   </td><td class="markdownTableBodyCenter">X   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td><td class="markdownTableBodyCenter">-   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md10"></a>
Jones matrices</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Document   </th><th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter"></th><th class="markdownTableHeadCenter"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><em>This document</em>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf J}$" src="form_25.png" width="8" height="10"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf D}$" src="form_26.png" width="11" height="10"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf B}$" src="form_27.png" width="11" height="10"/>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><a href="https://www.cambridge.org/core/journals/publications-of-the-astronomical-society-of-australia/article/calibration-and-stokes-imaging-with-full-embedded-element-primary-beam-model-for-the-murchison-widefield-array/FBA84B9EB94000BD6258A8F75840C476">Sokolowski et al., (2017)</a>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf J}$" src="form_25.png" width="8" height="10"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf G}$" src="form_28.png" width="11" height="10"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf E}$" src="form_29.png" width="10" height="9"/>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><a href="https://www.cambridge.org/core/journals/publications-of-the-astronomical-society-of-australia/article/abs/mwa-tiedarray-processing-i-calibration-and-beamformation/E9A7A9981AE9A935C9E08500CA6A1C1E">Ord et al., (2019)</a>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf J}$" src="form_25.png" width="8" height="10"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf D}$" src="form_26.png" width="11" height="10"/>   </td><td class="markdownTableBodyCenter"><img class="formulaInl" alt="${\bf B}$" src="form_27.png" width="11" height="10"/>   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
